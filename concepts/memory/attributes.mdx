---
title: "Attributes"
description: "Configuration options for the Memory class"
---

## Attributes

The Memory system is configured through the `Memory` class, which provides the following attributes:

| Attribute | Type | Default | Description |
|-----------|------|---------|-------------|
| `storage` | Storage | (required) | Storage backend for memory persistence |
| `session_id` | str \| None | `None` | Session identifier for conversation/summary memory |
| `user_id` | str \| None | `None` | User identifier for user analysis memory |
| `full_session_memory` | bool | `True` | Enable complete chat history |
| `summary_memory` | bool | `False` | Enable conversation summaries |
| `user_analysis_memory` | bool | `False` | Enable user learning and profiles |
| `num_last_messages` | int \| None | `None` | Limit history to last N message turns |
| `model` | str \| Model \| None | `None` | Model for analysis and summaries |
| `user_profile_schema` | BaseModel \| None | `None` | Custom user profile schema |
| `dynamic_user_profile` | bool | `True` | Allow agent to create custom profile fields |
| `user_memory_mode` | str | `"update"` | User profile update mode: 'update' or 'replace' |
| `feed_tool_call_results` | bool | `False` | Include tool calls in memory |
| `debug` | bool | `False` | Enable debug logging |

## Configuration Example

```python
from upsonic import Agent, Task
from upsonic.storage import Memory
from upsonic.storage.providers.sqlite import SqliteStorage

# Create storage
storage = SqliteStorage(db_file="agent_memory.db", sessions_table_name="sessions", profiles_table_name="profiles")

# Create memory with configuration
memory = Memory(
    storage=storage,
    session_id="session_001",
    user_id="user_123",
    full_session_memory=True,
    summary_memory=True,
    user_analysis_memory=True,
    num_last_messages=20,
    model="openai/gpt-4o-mini",
    feed_tool_call_results=False,
    debug=True
)

# Create agent with memory
agent = Agent("openai/gpt-4o", memory=memory)

# Use agent - memory is automatic
task = Task("Hello! I'm interested in learning Python")
result = agent.do(task)
print(result)
```
