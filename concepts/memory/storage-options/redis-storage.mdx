---
title: "RedisStorage"
description: "Redis storage for distributed and high-performance systems"
---

## Usage

```python
from upsonic import Agent, Task
from upsonic.storage import Memory
from upsonic.storage.providers.redis import RedisStorage

# Create Redis storage and memory
storage = RedisStorage(
    host="localhost",
    port=6379,
    db=0,
    password="your_password",
    prefix="upsonic"
)
memory = Memory(
    storage=storage,
    session_id="session_001",
    user_id="user_123",
    full_session_memory=True,
    summary_memory=True,
    user_analysis_memory=True,
    model="openai/gpt-4o"
)

# Create agent with memory
agent = Agent("openai/gpt-4o", memory=memory)

# First conversation
task1 = Task("My name is Alice and I love Python")
result1 = agent.do(task1)

# Second conversation - agent remembers
task2 = Task("What's my name and favorite language?")
result2 = agent.do(task2)
print(result2)  # Output: Your name is Alice and you love Python
```

### Redis with Custom Configuration

```python
from upsonic import Agent, Task
from upsonic.storage import Memory
from upsonic.storage.providers.redis import RedisStorage

# Redis with custom configuration
storage = RedisStorage(
    host="redis.example.com",
    port=6379,
    db=1,
    ssl=True,
    prefix="prod:memory",
    expire=3600
)
memory = Memory(
    storage=storage,
    session_id="session_001",
    full_session_memory=True
)

agent = Agent("openai/gpt-4o", memory=memory)

task1 = Task("Help me with caching strategies")
result1 = agent.do(task1)

task2 = Task("Why is Redis good for this?")
result2 = agent.do(task2)
print(result2)
```

### With Pre-existing Redis Client

```python
from redis.asyncio import Redis
from upsonic import Agent, Task
from upsonic.storage import Memory
from upsonic.storage.providers.redis import RedisStorage

redis_client = Redis(host="localhost", port=6379, decode_responses=True)
storage = RedisStorage(redis_client=redis_client)
memory = Memory(
    storage=storage,
    session_id="session_001",
    full_session_memory=True
)

agent = Agent("openai/gpt-4o", memory=memory)

task1 = Task("Explain Redis data structures")
result1 = agent.do(task1)

task2 = Task("Which one is best for a queue?")
result2 = agent.do(task2)
print(result2)
```

## Params

- `redis_client: Optional[Redis]` - Optional pre-existing Redis client (user manages lifecycle)
- `prefix: str` - Key prefix for namespacing (default: "upsonic")
- `host: str` - Redis server hostname (default: "localhost", ignored if redis_client provided)
- `port: int` - Redis server port (default: 6379, ignored if redis_client provided)
- `db: int` - Redis database number (default: 0, ignored if redis_client provided)
- `password: Optional[str]` - Optional password for authentication (ignored if redis_client provided)
- `ssl: bool` - Use SSL connection (default: False, ignored if redis_client provided)
- `expire: Optional[int]` - Optional TTL in seconds for keys
