---
title: "Memory"
description: "Give your agents persistent memory - remember conversations and learn about users"
sidebarTitle: Overview
hideToc: true
---

## What is Memory?

Memory gives your agents the ability to remember past interactions, learn about users, and maintain context across conversations. Just like human memory, it stores chat history, creates summaries of past conversations, and builds profiles of user preferences and characteristics.

## Why use Memory?

Memory transforms one-off interactions into continuous relationships:

- **Context continuity**: Agents remember previous conversations and decisions
- **Personalization**: Learn user preferences, habits, and characteristics over time
- **Efficiency**: Avoid repeating information across sessions
- **User experience**: Create natural, flowing conversations that reference past interactions
- **State management**: Track progress on long-running tasks across multiple sessions
- **HITL support**: Checkpoint conversations for human-in-the-loop workflows

## Overview

Memory maintains three types of information: complete chat history, condensed conversation summaries, and user profile data extracted from interactions. All data is stored in your chosen backend (SQLite, PostgreSQL, Redis, MongoDB) for persistence across sessions.

## Installation

Memory requires a storage backend to persist data. Choose the storage option that fits your deployment needs.

<Note>
  **Example: Setting up Memory with SQLite**

  For local development and testing, use SQLite storage:

  ```bash
  uv pip install "upsonic[sqlite-storage]"
  ```

  **Other storage options:**
  - `[redis-storage]` - Redis for distributed, high-performance systems
  - `[postgres-storage]` - PostgreSQL for production, multi-node deployments
  - `[mongo-storage]` - MongoDB for document-based, scalable systems
  - `[mem0-storage]` - Mem0 Platform integration

  For production deployments, PostgreSQL or Redis are recommended. See [Storage Options](/concepts/memory/storage-options/sqlite-storage) for detailed configuration.
</Note>

## Key Features

- **Conversation History**: Persist complete chat history across sessions
- **Session Summaries**: Auto-generate condensed conversation summaries
- **User Profiles**: Extract and learn user traits from interactions
- **Multiple Storage Backends**: SQLite, Redis, PostgreSQL, MongoDB, or in-memory
- **Sync & Async Support**: Both synchronous and asynchronous storage operations
- **HITL Checkpointing**: Automatic checkpoint saving for Human-in-the-Loop resumption

## Quick Start

```python
from upsonic import Agent, Task
from upsonic.storage.memory import Memory
from upsonic.storage.sqlite import SqliteStorage

# Create storage backend
storage = SqliteStorage(db_file="memory.db")

# Create memory with desired features
memory = Memory(
    storage=storage,
    session_id="session_001",
    user_id="user_123",
    full_session_memory=True,    # Enable chat history
    summary_memory=True,         # Enable summaries
    user_analysis_memory=True,   # Enable user profiles
    model="openai/gpt-4o"        # Required for summaries & user analysis
)

# Attach memory to agent
agent = Agent("openai/gpt-4o", memory=memory)

# First interaction
result1 = agent.do(Task("My name is Alice and I'm a Python developer"))

# Second interaction - agent remembers context
result2 = agent.do(Task("What's my name and expertise?"))
print(result2)  # Alice, Python developer
```

## Memory Types

| Type | Purpose | Requires |
|------|---------|----------|
| **Conversation Memory** | Full chat history persistence | `session_id` |
| **Summary Memory** | Condensed session summaries | `session_id`, `model` |
| **User Analysis Memory** | User profile extraction | `user_id`, `model` |

## Storage Backends

| Backend | Use Case | Persistence |
|---------|----------|-------------|
| `SqliteStorage` | Local development, single-node | File-based |
| `RedisStorage` | Distributed, high-performance | In-memory + optional persist |
| `PostgresStorage` | Production, multi-node | Database |
| `MongoStorage` | Document-based, scalable | Database |
| `InMemoryStorage` | Testing, ephemeral | None |

## Navigation

- [Memory Attributes](/concepts/memory/attributes) - All configuration options
- [Choosing Memory Types](/concepts/memory/choosing-right-memory-types) - Select the right memory for your use case
- [Storage Tables](/concepts/memory/storage-tables) - What data is stored
- [Memory Types](/concepts/memory/memory-types/conversation-memory) - Conversation, Summary, User Analysis
- [Storage Options](/concepts/memory/storage-options/sqlite-storage) - Backend configuration
- [Examples](/concepts/memory/examples/basic-memory-example) - Working examples
