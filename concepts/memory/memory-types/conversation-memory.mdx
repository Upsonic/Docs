---
title: "Conversation Memory"
description: "Store complete chat history for maintaining context"
---

## What is Conversation Memory?

Conversation Memory stores the complete chat history for a session, allowing your agent to reference previous messages and maintain context throughout the conversation.

## Usage

```python
from upsonic import Agent, Task
from upsonic.storage import Memory
from upsonic.storage.providers.in_memory import InMemoryStorage

# Create storage and memory with conversation memory
storage = InMemoryStorage()
memory = Memory(
    storage=storage,
    session_id="session_001",
    full_session_memory=True
)

# Create agent with memory
agent = Agent("openai/gpt-4o", memory=memory)

# First conversation
task1 = Task("My name is Alice and I love Python")
result1 = agent.do(task1)

# Second conversation - agent remembers
task2 = Task("What's my name and favorite language?")
result2 = agent.do(task2)
print(result2)  # Output: Your name is Alice and you love Python
```

### With Message Limiting

```python
from upsonic import Agent, Task
from upsonic.storage import Memory
from upsonic.storage.providers.in_memory import InMemoryStorage

# With message limiting
storage = InMemoryStorage()
memory = Memory(
    storage=storage,
    session_id="session_001",
    full_session_memory=True,
    num_last_messages=10  # Keep last 10 conversation turns
)

agent = Agent("openai/gpt-4o", memory=memory)

task1 = Task("Let's discuss machine learning")
result1 = agent.do(task1)

task2 = Task("What were we talking about?")
result2 = agent.do(task2)
print(result2)
```

## Params

- `full_session_memory: bool` - Enable/disable conversation memory
- `session_id: str` - Required identifier for the session
- `num_last_messages: int` - Optional limit on conversation history
- `feed_tool_call_results: bool` - Include/exclude tool calls from memory
