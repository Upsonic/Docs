---
title: "Pinecone"
description: "Using Pinecone as a vector database provider"
---

## Overview

Pinecone is a managed vector database service designed for production-scale similarity search. It's cloud-only and supports both dense and sparse vectors with automatic scaling.

**Provider Class:** `PineconeProvider`  
**Config Class:** `PineconeConfig`

## Dependencies

```bash
pip install "upsonic[rag]"
```

## Examples

```python
from upsonic import Agent, Task, KnowledgeBase
from upsonic.embeddings.openai_provider import OpenAIEmbeddingProvider
from upsonic.vectordb import PineconeProvider, PineconeConfig
from pydantic import SecretStr

# Setup embedding provider
embedding = OpenAIEmbeddingProvider(api_key="your-api-key")

# Create Pinecone configuration
config = PineconeConfig(
    collection_name="my_collection",
    vector_size=1536,
    api_key=SecretStr("your-pinecone-api-key"),
    environment="us-east-1-aws",
    namespace="production"
)
vectordb = PineconeProvider(config)

# Create knowledge base
kb = KnowledgeBase(
    sources="document.pdf",
    embedding_provider=embedding,
    vectordb=vectordb
)

# Use with Agent
agent = Agent("openai/gpt-4o")
task = Task(
    description="Query the knowledge base",
    context=[kb]
)
result = agent.do(task)
```

## Parameters

| Parameter | Type | Description | Default | Source |
|-----------|------|-------------|---------|--------|
| `collection_name` | `str` | Name of the collection | `"default_collection"` | Base |
| `vector_size` | `int` | Dimension of vectors | Required | Base |
| `distance_metric` | `DistanceMetric` | Similarity metric (`COSINE`, `EUCLIDEAN`, `DOT_PRODUCT`) | `COSINE` | Base |
| `recreate_if_exists` | `bool` | Recreate collection if it exists | `False` | Base |
| `default_top_k` | `int` | Default number of results | `10` | Base |
| `default_similarity_threshold` | `Optional[float]` | Minimum similarity score | `None` | Base |
| `api_key` | `SecretStr` | Pinecone API key | Required | Specific |
| `spec` | `Optional[Union[Dict, ServerlessSpec, PodSpec]]` | Index specification | `None` | Specific |
| `environment` | `Optional[str]` | Environment/region (backward compatibility) | `None` | Specific |
| `namespace` | `Optional[str]` | Namespace for data isolation | `None` | Specific |
| `metric` | `Literal['cosine', 'euclidean', 'dotproduct']` | Distance metric | `'cosine'` | Specific |
| `pods` | `Optional[int]` | Number of pods (PodSpec) | `None` | Specific |
| `pod_type` | `Optional[str]` | Pod type specification | `None` | Specific |
| `replicas` | `Optional[int]` | Number of replicas (PodSpec) | `None` | Specific |
| `shards` | `Optional[int]` | Number of shards (PodSpec) | `None` | Specific |
| `use_sparse_vectors` | `bool` | Enable sparse vector support | `False` | Specific |
| `batch_size` | `int` | Batch size for upsert operations | `100` | Specific |
| `timeout` | `Optional[int]` | Request timeout in seconds | `None` | Specific |

