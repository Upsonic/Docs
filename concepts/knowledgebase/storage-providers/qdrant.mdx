---
title: "Qdrant"
description: "Using Qdrant as a vector database provider"
---

## Overview

Qdrant is a vector similarity search engine and database. It supports embedded, local, and cloud deployments with HNSW and FLAT indexes, plus advanced features like quantization and payload indexing.

**Provider Class:** `QdrantProvider`  
**Config Class:** `QdrantConfig`

## Dependencies

```bash
pip install "upsonic[rag]"
```

## Examples

```python
from upsonic import Agent, Task, KnowledgeBase
from upsonic.embeddings.openai_provider import OpenAIEmbeddingProvider
from upsonic.vectordb import QdrantProvider, QdrantConfig, ConnectionConfig, Mode, HNSWIndexConfig

# Setup embedding provider
embedding = OpenAIEmbeddingProvider(api_key="your-api-key")

# Embedded mode
config = QdrantConfig(
    collection_name="my_collection",
    vector_size=1536,
    connection=ConnectionConfig(mode=Mode.EMBEDDED, db_path="./qdrant_db"),
    index=HNSWIndexConfig(m=16, ef_construction=200),
    on_disk_payload=False
)
vectordb = QdrantProvider(config)

# Create knowledge base
kb = KnowledgeBase(
    sources="document.pdf",
    embedding_provider=embedding,
    vectordb=vectordb
)

# Use with Agent
agent = Agent("openai/gpt-4o")
task = Task(
    description="Find relevant information",
    context=[kb]
)
result = agent.do(task)
```

## Parameters

| Parameter | Type | Description | Default | Source |
|-----------|------|-------------|---------|--------|
| `collection_name` | `str` | Name of the collection | `"default_collection"` | Base |
| `vector_size` | `int` | Dimension of vectors | Required | Base |
| `distance_metric` | `DistanceMetric` | Similarity metric (`COSINE`, `EUCLIDEAN`, `DOT_PRODUCT`) | `COSINE` | Base |
| `recreate_if_exists` | `bool` | Recreate collection if it exists | `False` | Base |
| `default_top_k` | `int` | Default number of results | `10` | Base |
| `default_similarity_threshold` | `Optional[float]` | Minimum similarity score | `None` | Base |
| `connection` | `ConnectionConfig` | Connection configuration | Required | Specific |
| `index` | `Union[HNSWIndexConfig, FlatIndexConfig]` | Index type configuration | `HNSWIndexConfig()` | Specific |
| `quantization_config` | `Optional[Dict[str, Any]]` | Quantization settings | `None` | Specific |
| `on_disk_payload` | `bool` | Store payloads on disk | `False` | Specific |
| `write_consistency_factor` | `int` | Write consistency factor | `1` | Specific |
| `shard_number` | `Optional[int]` | Number of shards | `None` | Specific |
| `replication_factor` | `Optional[int]` | Replication factor | `None` | Specific |
| `payload_field_configs` | `Optional[List[PayloadFieldConfig]]` | Advanced payload field configurations | `None` | Specific |
| `dense_vector_name` | `str` | Dense vector field name | `"dense"` | Specific |
| `sparse_vector_name` | `str` | Sparse vector field name | `"sparse"` | Specific |
| `use_sparse_vectors` | `bool` | Enable sparse vector support | `False` | Specific |

