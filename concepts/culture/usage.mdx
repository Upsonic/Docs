---
title: "Usage Guide"
description: "Learn how to use Cultural Knowledge in your agents"
sidebarTitle: Usage
---

## Usage Guide

**Storage is optional**. Cultural knowledge works with or without storage.

## Setup

### With Storage

```python
from upsonic.storage.memory import Memory
from upsonic.storage.sqlite import SqliteStorage

storage = SqliteStorage(db_file="culture.db")
memory = Memory(
    storage=storage,
    session_id="session_001",
    user_id="user_123",
    culture_memory_enabled=True,
    model="openai/gpt-4o"
)
```

### Without Storage

No setup needed - just provide `cultural_knowledge` when creating the agent.

## Scenarios

### 1. String Input (With Storage)

```python
from upsonic import Agent, Task
from upsonic.storage.memory import Memory
from upsonic.storage.sqlite import SqliteStorage

storage = SqliteStorage(db_file="culture.db")
memory = Memory(storage=storage, session_id="s1", user_id="u1", culture_memory_enabled=True, model="openai/gpt-4o")

agent = Agent(
    model="openai/gpt-4o",
    memory=memory,
    cultural_knowledge="Be helpful and professional"
)

result = agent.do(Task("How should I greet a customer?"))
print(result)
```

### 2. Instance Input (With Storage)

```python
from upsonic import Agent, Task
from upsonic.culture import CulturalKnowledge
from upsonic.storage.memory import Memory
from upsonic.storage.sqlite import SqliteStorage

storage = SqliteStorage(db_file="culture.db")
memory = Memory(storage=storage, session_id="s1", user_id="u1", culture_memory_enabled=True, model="openai/gpt-4o")

knowledge = CulturalKnowledge(
    name="Code Review Standards",
    summary="Focus on security and performance",
    categories=["engineering"],
    content="- Check for security vulnerabilities\n- Verify error handling"
)

agent = Agent(model="openai/gpt-4o", memory=memory, cultural_knowledge=knowledge)
result = agent.do(Task("Review this code: def add(a, b): return a + b"))
print(result)
```

### 3. Storage-Only

```python
from upsonic import Agent, Task
from upsonic.culture import CulturalKnowledge
from upsonic.storage.memory import Memory
from upsonic.storage.sqlite import SqliteStorage
import uuid

storage = SqliteStorage(db_file="culture.db")
knowledge = CulturalKnowledge(
    id=str(uuid.uuid4()),
    name="Customer Service",
    content="Always be helpful and empathetic"
)
storage.upsert_cultural_knowledge(knowledge)

memory = Memory(storage=storage, session_id="s1", user_id="u1", culture_memory_enabled=True, model="openai/gpt-4o")
agent = Agent(model="openai/gpt-4o", memory=memory)
result = agent.do(Task("How should I handle a complaint?"))
print(result)
```

### 4. String Input (No Storage)

```python
from upsonic import Agent, Task

agent = Agent(
    model="openai/gpt-4o",
    cultural_knowledge="Be helpful and professional"
)

result = agent.do(Task("How should I greet a customer?"))
print(result)
```

### 5. Instance Input (No Storage)

```python
from upsonic import Agent, Task
from upsonic.culture import CulturalKnowledge

knowledge = CulturalKnowledge(
    name="Code Review Standards",
    content="Focus on security and performance"
)

agent = Agent(model="openai/gpt-4o", cultural_knowledge=knowledge)
result = agent.do(Task("Review this code: def add(a, b): return a + b"))
print(result)
```

## Best Practices

- **Use categories** for organization: `categories=["security", "best-practices"]`
- **Provide clear summaries**: One-line takeaway
- **Store universal principles**: Not user-specific (use User Memory for user traits/preferences)
- **Use meaningful names**: `"Code Review Standards"` not `"Guidelines"`

## Troubleshooting

**With storage**: Ensure `culture_memory_enabled=True` in Memory configuration.

**Without storage**: Just provide `cultural_knowledge` parameter - no memory needed.
